## Define global variable with webpack

> 原文链接: https://stackoverflow.com/questions/37656592/define-global-variable-with-webpack

### 1) Put your variables in a module.

```js
import FooBar from './foo-bar' // <-- Usage: myFooBar = new FooBar()
```

### 2)Webpack's ProvidePlugin

#### 1. Create any module

```js
// utils.js
export function sayHello () {
  console.log('hello')
}
```

#### 2.Alias the module and add to ProvidePlugin

```js
// webpack.config.js
var webpack = require("webpack");
var path = require("path");

// ...

module.exports = {

  // ...

  resolve: {
    extensions: ['', '.js'],
    alias: {
      'utils': path.resolve(__dirname, './utils')  // <-- When you build or restart dev-server, you'll get an error if the path to your utils.js file is incorrect.
    }
  },

  plugins: [

    // ...

    new webpack.ProvidePlugin({
      'utils': 'utils'
    })
  ]  

}
```

Now just call `utils.sayHello()` in any js file and it should work. Make sure you restart your dev-server if you are using that with Webpack.

*Note: Don't forget to tell your linter about the global, so it won't complain. For example, see my* [answer for ESLint here](https://stackoverflow.com/questions/34209063/how-do-you-expose-a-global-javascript-function-without-eslint-no-unused-var-erro/40416449#40416449)

### 3) Use Webpack's DefinePlugin

```js
new webpack.DefinePlugin({
  PRODUCTION: JSON.stringify(true),
  VERSION: JSON.stringify("5fa3b9"),
  BROWSER_SUPPORTS_HTML5: true,
  TWO: "1+1",
  "typeof window": JSON.stringify("object")
})
```

use it like 

```js
console.log("Running App version " + VERSION);
if(!BROWSER_SUPPORTS_HTML5) require("html5shiv");
```

### 4) Use the global window object (or Node's global)

```js
window.foo = 'bar'  // For SPA's, browser environment.
global.foo = 'bar'  // Webpack will automatically convert this to window if your project is targeted for web (default), read more here: https://webpack.js.org/configuration/node/
```

You'll see this commonly used for polyfills, for example: `window.Promise = Bluebird`

#### 5) Use a package like dotenv

> dotenv 地址: https://github.com/motdotla/dotenv

```js
// As early as possible in your application, require and configure dotenv.    
require('dotenv').config()
```

create `.evn` file

```shell
## .evn 
DB_HOST=localhost
DB_USER=root
DB_PASS=s1mpl3
```

process.env now has the keys and values you defined in your .env file.

```js
// use it like this
var db = require('db')
db.connect({
  host: process.env.DB_HOST,
  username: process.env.DB_USER,
  password: process.env.DB_PASS
})
```





### 